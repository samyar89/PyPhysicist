# آموزش کامل خروجی LaTeX در PyPhysicist

این راهنما یک مرجع کامل برای تولید خروجی LaTeX از فرمول‌ها و محاسبات PyPhysicist است. از این بخش می‌توانید برای نوشتن گزارش، مقاله، اسلاید یا مستندسازی علمی استفاده کنید.

---

## 1) شروع سریع با LatexConverter

کلاس `LatexConverter` ساده‌ترین مسیر برای گرفتن خروجی LaTeX است:

```python
from PyPhysicist import LatexConverter

latex = LatexConverter()
print(latex.symbolic("force"))
print(latex.substitute("force", mass=2.0, acceleration=9.81))
```

**خروجی:**

```
F = m\, a
F = 2\, 9.81
```

> برای قرار دادن خروجی در LaTeX می‌توانید از `$...$` یا محیط‌های نمایشی مثل `\[ ... \]` استفاده کنید.

---

## 2) سه حالت مهم: نمادین، جایگذاری، و محاسبه

### حالت نمادین (Symbolic)
معادله را فقط با نمادها برمی‌گرداند:

```python
latex.symbolic("velocity")
```

خروجی:

```
v = \frac{d}{t}
```

### جایگذاری مقادیر (Substitute)
مقادیر شما را در معادله جایگذاری می‌کند:

```python
latex.substitute("velocity", distance=120, time=6)
```

خروجی:

```
v = \frac{120}{6}
```

### محاسبه عددی (Calculate)
به همراه محاسبه‌ی نتیجه برمی‌گرداند:

```python
calc = latex.calculate("velocity", distance=120, time=6)
print(calc.to_latex())
```

خروجی:

```
v = \frac{120}{6} = 20
```

---

## 3) مشاهده جزئیات هر فرمول

هر فرمول شامل نام، پارامترها و نمادهای پیش‌فرض است:

```python
formula = latex.formula("force")
print(formula.parameters)
print(formula.parameter_symbols)
```

خروجی نمونه:

```
('mass', 'acceleration')
{'mass': 'm', 'acceleration': 'a'}
```

این اطلاعات کمک می‌کند بدانید چه نام‌هایی باید موقع جایگذاری استفاده کنید.

---

## 4) پشتیبانی از واحدها (Quantity)

اگر از `Quantity` استفاده کنید، واحدها هم در خروجی LaTeX ظاهر می‌شوند:

```python
from PyPhysicist import Quantity

latex.substitute(
    "force",
    mass=Quantity(2.0, "kg"),
    acceleration=Quantity(9.81, "m/s^2"),
)
```

خروجی:

```
F = 2\,\text{kg}\, 9.81\,\text{m/s^2}
```

> خروجی واحدها داخل `\text{...}` قرار می‌گیرد تا در LaTeX خواناتر باشد.

---

## 5) فرمول‌های چند ورودی (لیستی)

برخی فرمول‌ها ورودی‌های لیستی دارند، مثل مقاومت معادل سری و موازی:

```python
latex.substitute("resistance_series", resistances=[2, 3, 5])
```

خروجی:

```
R_{eq} = 2 + 3 + 5
```

و برای مقاومت موازی:

```python
latex.substitute("resistance_parallel", resistances=[2, 3, 5])
```

خروجی:

```
R_{eq} = \left( \frac{1}{2} + \frac{1}{3} + \frac{1}{5} \right)^{-1}
```

---

## 6) ثبت فرمول سفارشی

می‌توانید فرمول‌های خودتان را به سیستم اضافه کنید:

```python
from PyPhysicist import LatexFormula

custom = LatexFormula(
    name="density",
    result_symbol="\rho",
    rhs_template=r"\frac{{{mass}}}{{{volume}}}",
    parameters=("mass", "volume"),
    parameter_symbols={"mass": "m", "volume": "V"},
)

latex.register(custom)
print(latex.symbolic("density"))
```

خروجی:

```
\rho = \frac{m}{V}
```

---

## 7) راهنمای خروجی برای گزارش و مقاله

- اگر خروجی را داخل متن ساده می‌خواهید، از حالت **نمادین** یا **جایگذاری** استفاده کنید.
- اگر نتیجه‌ی عددی هم لازم دارید، از **calculate + to_latex** کمک بگیرید.
- برای زیبایی در گزارش LaTeX، خروجی را با `$...$` یا `\[ ... \]` نمایش دهید.

نمونه برای استفاده در گزارش:

```latex
\[ F = m\, a \]
```

---

## 8) خطاهای رایج و راه‌حل‌ها

- اگر پارامترها را اشتباه بنویسید، خطای `Missing value` می‌گیرید.
- برای فرمول‌های لیستی باید مقدارها به صورت `list` یا `tuple` داده شوند.
- اگر نام فرمول را اشتباه بدهید، خطای `Unknown formula` دریافت می‌کنید.

---

## 9) جمع‌بندی

بخش LaTeX در PyPhysicist طوری طراحی شده که هم **ساده** باشد و هم **قابل توسعه**:

- خروجی نمادین برای گزارش‌ها
- جایگذاری سریع برای نمایش مقادیر
- محاسبه عددی با نمایش نتیجه
- پشتیبانی از واحدها
- امکان ثبت فرمول‌های سفارشی

اگر به خروجی دقیق‌تر یا فرمول‌های جدید نیاز داشتید، می‌توانید `LatexFormula` بسازید و به `LatexConverter` اضافه کنید.
